function funcGray(c) {
   if (c.a==0) return c ;
   var gr = (c.r+c.g+c.b)/3 ;
   return { r: gr, g: gr, b: gr, a: 255 } ;
}

function key2name(k) {
  if (k==0) return 'A';
  if (k==1) return 'B';
  if (k==2) return 'C';
  if (k==3) return 'D';
  if (k==4) return 'E';
  if (k==5) return 'F';
  if (k==6) return 'G';
  if (k==7) return 'H';
  if (k==8) return 'I';
  if (k==9) return 'J';
  if (k==10) return 'K';
  if (k==11) return 'L';
  if (k==12) return 'M';
  if (k==13) return 'N';
  if (k==14) return 'O';
  if (k==15) return 'P';
  if (k==16) return 'Q';
  if (k==17) return 'R';
  if (k==18) return 'S';
  if (k==19) return 'T';
  if (k==20) return 'U';
  if (k==21) return 'V';
  if (k==22) return 'W';
  if (k==23) return 'X';
  if (k==24) return 'Y';
  if (k==25) return 'Z';
  if (k==26) return 'Num0';
  if (k==27) return 'Num1';
  if (k==28) return 'Num2';
  if (k==29) return 'Num3';
  if (k==30) return 'Num4';
  if (k==31) return 'Num5';
  if (k==32) return 'Num6';
  if (k==33) return 'Num7';
  if (k==34) return 'Num8';
  if (k==35) return 'Num9';
  if (k==36) return 'Escape';
  if (k==37) return 'LControl';
  if (k==38) return 'LShift';
  if (k==39) return 'LAlt';
  if (k==40) return 'LSystem';
  if (k==41) return 'RControl';
  if (k==42) return 'RShift';
  if (k==43) return 'RAlt';
  if (k==44) return 'RSystem';
  if (k==45) return 'Menu';
  if (k==46) return 'LBracket';
  if (k==47) return 'RBracket';
  if (k==48) return 'Semicolon';
  if (k==49) return 'Comma';
  if (k==50) return 'Period';
  if (k==51) return 'Quote';
  if (k==52) return 'Slash';
  if (k==53) return 'Backslash';
  if (k==54) return 'Tilde';
  if (k==55) return 'Equal';
  if (k==56) return 'Hyphen';
  if (k==57) return 'Space';
  if (k==58) return 'Enter';
  if (k==59) return 'Backspace';
  if (k==60) return 'Tab';
  if (k==61) return 'PageUp';
  if (k==62) return 'PageDown';
  if (k==63) return 'End';
  if (k==64) return 'Home';
  if (k==65) return 'Insert';
  if (k==66) return 'Delete';
  if (k==67) return 'Add';
  if (k==68) return 'Subtract';
  if (k==69) return 'Multiply';
  if (k==70) return 'Divide';
  if (k==71) return 'Left';
  if (k==72) return 'Right';
  if (k==73) return 'Up';
  if (k==74) return 'Down';
  if (k==75) return 'Numpad0';
  if (k==76) return 'Numpad1';
  if (k==77) return 'Numpad2';
  if (k==78) return 'Numpad3';
  if (k==79) return 'Numpad4';
  if (k==80) return 'Numpad5';
  if (k==81) return 'Numpad6';
  if (k==82) return 'Numpad7';
  if (k==83) return 'Numpad8';
  if (k==84) return 'Numpad9';
  if (k==85) return 'F1';
  if (k==86) return 'F2';
  if (k==87) return 'F3';
  if (k==88) return 'F4';
  if (k==89) return 'F5';
  if (k==90) return 'F6';
  if (k==91) return 'F7';
  if (k==92) return 'F8';
  if (k==93) return 'F9';
  if (k==94) return 'F10';
  if (k==95) return 'F11';
  if (k==96) return 'F12';
  if (k==97) return 'F13';
  if (k==98) return 'F14';
  if (k==99) return 'F15';
  if (k==100) return 'Pause';
  return "?" ;
}
